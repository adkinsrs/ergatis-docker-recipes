version: '2'
services:

  ergatis:
    environment:
      - DOCKER_HOST=###IP_HOST###
    image: adkinsrs/lgtseek:1.4
    links:
      - mongo
    mem_limit: 5120000000
    ports:
      - "8080:80"
    volumes:
      - ###BLAST_DB_DIR###:/mnt/blast:ro
      - ###INPUT_DATA###:/mnt/input_data/input_source
      - ###OUTPUT_DATA###:/mnt/output_data
      - ###DONOR_MNT###:/mnt/input_data/donor_ref
      - ###RECIPIENT_MNT###:/mnt/input_data/recipient_ref
      - ###REFSEQ_MNT###:/mnt/input_data/refseq_ref
      - ###ACC_MNT###:/mnt/input_data/acc_list
      - /Users/sadkins/bin/git/ergatis-pipelines/package-lgtseek/pipeline_builder:/opt/ergatis/pipeline_builder
    volumes_from:
      - mongodata
